<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Back-Office</title>
    <link rel="stylesheet" href="./css/styles.css" />

    <!-- Bootstrap Things -->
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"></script>
    <!--Bootstrap Icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" />

    <!-- JQuery Things -->
    <!--JQuery UI CSS-->
    <!--JQuery CDN-->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
      integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <!-- JQuery UI DatePicker IT
    <script type="text/javascript" src="/js/datepickerIT.js"></script> -->

    <!-- <link
      rel="stylesheet"
      href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css"
    />
    JQuery UI CDN
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    -->

    <!-- Script -->
    <script type="text/javascript" src="./js/script.js"></script>
  </head>

  <body>
    <div id="mainpage">
      <nav class="navbar navbar-expand-lg navbar-light bg-light" id="navbar" aria-label="Navigation Bar">
        <div class="collapse navbar-collapse maxWidth" id="navButtons" role="Button List">
          <ul class="navbar-nav mr-auto maxWidth">
            <li class="nav-item active">
              <a class="navbrand" id="home" href="#" role="button" onclick="home()"
                aria-label="Back To Homepage">NoloNolo</a>
            </li>
            <li class="nav-item active">
              <a class="navlink bold" id="inventario" href="#" role="button" aria-label="Show Inventory">Inventario</a>
            </li>
            <li class="nav-item">
              <a class="navlink bold" id="Clients" href="#" role="button" onclick="loginRequired()" aria-label=" Show
                Clients">Clienti</a>
            </li>
            <li class="nav-item">
              <a class="navlink bold" id="Rentals" href="#" role="button" onclick="loginRequired()"
                aria-label="Show Rentals">Noleggi Attivi</a>
            </li>
            <li class="nav-item">
              <a class="navlink bold" id="OldRentals" href="#" role="button" onclick="loginRequired()"
                aria-label="Show Rentals">Noleggi Conclusi</a>
            </li>
            <li class="nav-item maxWidth">
              <div id="login">
                <button id="loginButton" class="btn btn-info m-1" role="Login Button" aria-label="Login"
                  data-bs-toggle="modal" data-bs-target="#LoginModal">
                  Login
                </button>
                <button id="logoutButton" class="btn btn-danger m-1" role="Logout Button" onclick="logout()"
                  aria-label="Logout">
                  Logout
                </button>
              </div>
            </li>
        </div>
      </nav>
      <main class="text-container" aria-label="welcome page">
        <div class="text">
          <h1>NoloNolo Plus</h1>
          <h2>Noleggia il tuo sgronfax preferito a costi bassissimi!</h2>
        </div>
      </main>
    </div>

    <!-- MODALS HERE -->

    <!-- Modale Login -->
    <div class="modal fade" id="LoginModal" role="dialog" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="card-body bg-info text-white" id="loginCard" aria-label="Login Card">
            <div class="closeButton">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
            </div>
            <div class="text-center">
              <h2 class="fw-bold mb-2 text-uppercase">Inserisci le Credenziali</h2>
              <p class="text-white-25 mb-3" id="loginCaption" style=text-decoration:underline;font-size:1.1em;>Per
                sbloccare tutte le funzionalità</p>
              <hr style="height:2px;border:none;color:rgb(255, 255, 255);" />
              <form id="loginForm">
                <div class="form-outline form-white mb-4 maxWidth">
                  <label class="form-label underline" for="email">Email</label>
                  <input type="text" id="email" placeholder="Inserisci email"
                    class="form-control form-control-lg maxWidth" />
                </div>

                <div class="form-outline form-white mb-4">
                  <label class="form-label underline" for="password">Password</label>
                  <input type="password" id="password" placeholder="Insert your password"
                    class="form-control form-control-lg maxWidth noMargin" />
                </div>

                <button class="btn btn-outline-light btn-lg px-5" type="button" onclick="login()"
                  aria-label="submit-login">Login</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modale Permessi -->
    <div class="modal fade" id="LoginRequiredModal" role="dialog" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="card-body bg-info text-white" aria-label="Login Required Modal">
            <div class="closeButton">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
            </div>
            <div class="text-center form-outline form-white mb-4">
              <h5 class="mb-2" id="loginRequiredText">È necessario avere effettuato il login per accedere a questa
                funzionalità</h5>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <!-- Modale Clienti -->
  <div class="modal fade" id="UserAnagraphicModal" role="dialog" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modalDiv modal-content2">
        <div class=" card-body bg-white text-black" id="UserAnagraphicCard" aria-label="User Anagraphic Card">
          <div class="closeButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div>
            <table>
              <caption>
                <p id="usersCaption">Anagrafica Clienti</p>
              </caption>
              <thead>
                <tr>
                  <th scope="col">Id</th>
                  <th scope="col">Nome</th>
                  <th scope="col">Cognome</th>
                  <th scope="col">Email</th>
                  <th scope="col">Telefono</th>
                  <th scope="col">Azione</th>
                </tr>
              </thead>
              <tbody id="ADBody">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Aggiunta Annotazioni Utente -->
  <div class="modal fade" id="AddUserAnnotationsModal" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="card-body annotationsBg text-dark text-center" id="userAnnotationsModal"
          aria-label="Add User Annotations Card">
          <div class="closeButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div>
            <h3 class="cardTitle">Inserisci annotazioni cliente</h3>
          </div>
          <div>
            <form id="annotationsForm" class="text-center">
              <div class="form-outline formatAnnotations">
                <label class="form-label bold underline" for="userAnnotations">Seleziona</label>
                <select name="userAnnotations" class="annotationsLabels bg-light text-center" id="userAnnotations"
                  multiple>
                  <option value="Educato">Educato</option>
                  <option value="Puntuale">Puntuale</option>
                  <option value="Non rompe nulla">Non rompe nulla</option>
                  <option value="Pagamenti puntuali">Pagamenti puntuali</option>
                  <option value="Maleducato">Maleducato</option>
                  <option value="Ritardatario">Ritardatario</option>
                  <option value="Rompe gli oggetti">Rompe gli oggetti</option>
                  <option value="Pagamenti in ritardo">Pagamenti in ritardo</option>
                  <option value="Solo top di gamma">Solo top di gamma</option>
                  <option value="Basta che funzioni">Basta che funzioni</option>
                  <option value="Tutto rgb">Solo rgb</option>
                  <option value="Solo pagamenti con carta">Non usa i contanti</option>
                  <option value="Solo pagamenti in contanti">Non ha una carta di credito</option>
                </select>
              </div>
              <div class="form-outline form-white mb-4 formatAnnotations column">
                <label class="form-label bold underline" for="userComment">Annotazione Libera</label>
                <textarea placeholder="Inserisci commento"
                  class="form-control bg-light form-control-lg comment text-center" rows="5"></textarea>
              </div>
              <button class="btn btn-outline-dark btn-dark px-5 bold maxWidth" type="button"
                onclick="addUserAnnotations()" aria-label="submit-annotations">Inserisci</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Aggiunta Annotazioni Noleggio -->
  <div class="modal fade" id="AddRentalAnnotationsModal" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="card-body annotationsBg text-dark" id="rentalAnnotationsModal"
          aria-label="Add Rental Annotations Card">
          <div class="closeButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div>
            <h3 class="cardTitle">Inserisci annotazioni noleggio</h3>
          </div>
          <div>
            <form id="annotationsForm" class="text-center">
              <div class="form-outline formatAnnotations">
                <label class="form-label bold underline" for="rentalAnnotations">Seleziona</label>
                <select name="rentalAnnotations" class="annotationsLabels bg-light text-center" id="rentalAnnotations"
                  multiple>
                  <option value="Con Penale">Con Penale</option>
                  <option value="Con Sconto">Con Sconto</option>
                  <option value="Consegna Anticipata">Consegna Anticipata</option>
                  <option value="Consegna Prevista">Consegna Prevista</option>
                  <option value="Consegna Posticipata">Consegna Posticipata</option>
                  <option value="Oggetto Integro">Oggetto Integro</option>
                  <option value="Oggetto Danneggiato">Oggetto Danneggiato</option>
                  <option value="Oggetto Distrutto">Oggetto Distrutto</option>
                  <option value="Oggetto Perso">Oggetto Perso</option>
                </select>
              </div>
              <div class="form-outline form-lg mb-4 formatAnnotations column">
                <label class="form-label bold underline" for="rentalComment">Annotazione Libera</label>
                <textarea placeholder="Inserisci commento"
                  class="form-control form-control-lg bg-light comment text-center" rows="5"></textarea>
              </div>
              <button class="btn btn-outline-dark btn-dark px-5 bold maxWidth" type="button"
                onclick="addRentalAnnotations()" aria-label="submit-annotations">Inserisci</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Mostra Annotazioni -->
  <div class="modal fade" id="ShowAnnotationsModal" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="card-body bg-light text-dark" aria-label="User Table Card">
          <div class="closeButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div>
            <h3 class="cardTitle">Annotazioni</h3>
            <div class="form-outline form-white mb-4 showAnnotations">
              <label class="form-label bold" for="features">Caratteristiche</label>
              <ul id="features" class="text-center">
              </ul>
            </div>
            <div class="form-outline form-white mb-4 showAnnotations">
              <label class="form-label bold" for="commenti">Commento Manager</label>
              <p class="list-group-item list-group-item-dark text-center" id="commenti"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Noleggi -->
  <div class="modal fade" id="UserRentalsModal" role="dialog" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modalDiv modal-content1">
        <div class=" card-body bg-white text-black" id="UserRentalsCard" aria-label="User Rentals Card">
          <div class="closeButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div>
            <table>
              <caption>
                <p id="rentalsCaption"></p>
              </caption>
              <thead>
                <tr>
                  <th scope="col">Noleggio</th>
                  <th scope="col">User</th>
                  <th scope="col">Oggetto</th>
                  <th scope="col">Stato</th>
                  <th scope="col">Dal - Al</th>
                  <th scope="col">Spesa(€)</th>
                  <th scope="col">Azioni</th>
                </tr>
              </thead>
              <tbody id="RentalsBody">
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Fattura -->
  <div class="modal fade" id="BillModal" role="dialog" role="dialog" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content modalDiv">
        <div class=" card-body bg-white text-black" id="BillCard" aria-label="Bill Card">
          <div class="closeButton billButton">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close modal"></button>
          </div>
          <div id="bill">
            <h3 class="cardTitle outline">Fattura Noleggio</h3>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Id Noleggio:</p>
              <p id="rentalId"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Id Cliente:</p>
              <p id="billUserId"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Inizio Noleggio:</p>
              <p id="billStart"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Fine Noleggio:</p>
              <p id="billEnd"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Costo Noleggio:</p>
              <p id="billCost"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <p class="bold">Variazione Prezzo:</p>
              <p id="billSurcharge"></p>
            </div>
            <div class="form-outline form-white mb-4 billRow">
              <button class="btn btn-outline-dark btn-dark px-5 bold maxWidth" type="button" onclick="print()"
                aria-label="print-bill">Stampa Fattura</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</html>